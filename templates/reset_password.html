<!DOCTYPE html>
<html lang="en">

<head>
	<title>HireMe Admin | Reset Password</title>

	<!-- Meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta name="description" content="Portal - Bootstrap 5 Admin Dashboard Template For Developers">
	<meta name="author" content="Xiaoying Riley at 3rd Wave Media">

	<!-- Icon Font Stylesheet -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
	<link rel="shortcut icon" style="border-radius: 50px ;"
		href="{{ url_for('static', filename='images/HireMeIcon.png') }}">

	<!-- FontAwesome JS-->
	<script defer src="{{ url_for('static', filename='assets/plugins/fontawesome/js/all.min.js') }}"></script>

	<!-- App CSS -->
	<link id="theme-style" rel="stylesheet" href="{{ url_for('static', filename='assets/css/style.css') }}">

</head>
<style>
	#eye2,
	#eye4 {
		display: none;
	}

	/* Define custom styles for the fade and show effects */
	@keyframes customFadeIn {
		from {
			opacity: 0;
		}

		to {
			opacity: 1;
		}
	}

	@keyframes customFadeOut {
		from {
			opacity: 1;
		}

		to {
			opacity: 0;
		}
	}

	.custom-fade {
		animation: customFadeIn 1s ease-in-out, customFadeOut 1s ease-in-out 2s;
	}
</style>

<body class="app app-login p-0">
	<div class="row g-0 app-auth-wrapper">
		<div class="col-12 col-md-7 col-lg-6 auth-main-col text-center p-5">
			<div class="d-flex flex-column align-content-end">
				<div class="app-auth-body mx-auto">
					<div class="app-auth-branding mb-4"><img class="logo-icon me-2" style="border-radius: 60px; width: 20%;"
							src="{{ url_for('static', filename='images/HireMeIcon.png') }}" alt="logo"></div>
					<h2 class="auth-heading text-center mb-5">Reset Password</h2>
					<div class="auth-form-container text-start">
						{% if msg == 'reseterror' %}
						<div id="myalert" class="alert alert-danger col-md-12 custom-fade" role="alert">New Password and Confirm
							Password Should Be Matched
						</div>
						{% endif %}
						<form action="/" method="POST" class="auth-form login-form">
							<div class="password mb-3">
								<label class="sr-only" for="signin-password">New Password</label>
								<div id="pass-field"><input id="newpwd" style="color: black;" name="password" type="password"
										class="form-control signin-password" placeholder="New Password" required="required">
									<i class="bi bi-eye-slash-fill" style="color: black;" id="eye1" onclick="toggle1()"></i>
									<i class="bi bi-eye-fill" style="color: black;" id="eye2" onclick="toggle1()"></i>
								</div>
								<div class="col-12" id="message">
									<div class="col-md-12">
										<p class="heading mb-3" style="color: black;"><b>Password must contain the following:</b></p>
										<p id="lwc">Lowercase letter<i class="bi bi-x-circle-fill" id="invalid1"></i><i
												class="bi bi-check-circle-fill" id="valid1"></i></p>
										<p id="upc">Uppercase letter<i class="bi bi-x-circle-fill" id="invalid2"></i><i
												class="bi bi-check-circle-fill" id="valid2"></i></p>
										<p id="number">Number<i class="bi bi-x-circle-fill" id="invalid3"></i><i
												class="bi bi-check-circle-fill" id="valid3"></i></p>
										<p id="spch">Special character<i class="bi bi-x-circle-fill" id="invalid4"></i><i
												class="bi bi-check-circle-fill" id="valid4"></i></p>
										<p id="length">Minimum 8 and Maximum 15 characters<i class="bi bi-x-circle-fill"
												id="invalid5"></i><i class="bi bi-check-circle-fill" id="valid5"></i></p>
									</div>
								</div>
								<div style="margin-bottom: 3%;"></div>
								<label class="sr-only" for="signin-password">Confirm New Password</label>
								<div id="pass-field"><input id="cfmpwd"  style="color: black;" name="password"
										type="password" class="form-control signin-password" placeholder="Confirm New Password"
										required="required">
									<i class="bi bi-eye-slash-fill" style="color: black;" id="eye3" onclick="toggle2()"></i>
									<i class="bi bi-eye-fill" style="color: black;" id="eye4" onclick="toggle2()"></i>
								</div>
								<div style="margin-top: 1%; margin-bottom: 1%;" class="col-12">
									<div id="match" class="col-md-12">
										<p class="heading mb-3" style="color: red;">Passwords don't matched</p>
									</div>
								</div>
							</div><!--//form-group-->
							<div class="text-center">
								<button type="submit" disabled onclick="passwordMatch()" class="btn app-btn-primary w-100 theme-btn mx-auto">Log In</button>
							</div>
							<div class="text-center">
								<button type="submit" id="resetbtn" onclick="passwordMatch()" class="btn app-btn-primary w-100 theme-btn mx-auto">Log In</button>
							</div>
						</form>

					</div><!--//auth-form-container-->

				</div><!--//auth-body-->

				<footer class="app-auth-footer">
					<div class="container text-center py-3">
						<small class="copyright">&copy; 2023 HireMe Admin Portal, All Right Reserved.</small>
					</div>
				</footer><!--//app-auth-footer-->
			</div><!--//flex-column-->
		</div><!--//auth-main-col-->
		<div class="col-12 col-md-5 col-lg-6 h-100 auth-background-col">
			<div class="auth-background-holder">
			</div>
		</div><!--//auth-background-col-->

	</div><!--//row-->

	<script type="text/javascript">

		// Toggle password
		var change1 = false;
		function toggle1() {
			if (change1) {
				document.getElementById("newpwd").setAttribute("type", "password");
				document.getElementById("eye2").style.display = "none"
				document.getElementById("eye1").style.display = "inline-block";
				change1 = false;
			} else {
				document.getElementById("newpwd").setAttribute("type", "text");
				document.getElementById("eye1").style.display = "none";
				document.getElementById("eye2").style.display = "inline-block"
				change1 = true;
			}
		}

		var change2 = false;
		function toggle2() {
			if (change2) {
				document.getElementById("cfmpwd").setAttribute("type", "password");
				document.getElementById("eye4").style.display = "none"
				document.getElementById("eye3").style.display = "inline-block";
				change2 = false;
			} else {
				document.getElementById("cfmpwd").setAttribute("type", "text");
				document.getElementById("eye3").style.display = "none";
				document.getElementById("eye4").style.display = "inline-block"
				change2 = true;
			}
		}
	</script>

	<script>
		document.addEventListener('DOMContentLoaded', function () {
			setTimeout(function () {
				document.getElementById('myalert').classList.add('d-none');
			}, 2000); // 2000 milliseconds = 2 seconds
		});
	</script>

	<script>
		// Password Validation

		var myInput = document.getElementById("newpwd");
		// When the user clicks on the password field, show the message box
		myInput.onfocus = function () {
			document.getElementById("message").style.display = "inline-block";
		}

		// When the user clicks outside of the password field, hide the message box
		myInput.onblur = function () {
			document.getElementById("message").style.display = "none";
		}

		// When the user starts to type something inside the password field
		myInput.onkeyup = function () {

			var specialCharRegex = /[!@#$%^&*()\-_=+{};:,<.>]/;
			// Validate lowercase letters
			var lwcRegex = /[a-z]/g;
			if (myInput.value.match(lwcRegex)) {
				document.getElementById("valid1").style.display = "inline";
				document.getElementById("invalid1").style.display = "none";
			} else {
				document.getElementById("valid1").style.display = "none";
				document.getElementById("invalid1").style.display = "inline";
				c1 = false;
			}

			// Validate uppercase letters
			var upcRegex = /[A-Z]/g;
			if (myInput.value.match(upcRegex)) {
				document.getElementById("valid2").style.display = "inline";
				document.getElementById("invalid2").style.display = "none";
			} else {
				document.getElementById("valid2").style.display = "none";
				document.getElementById("invalid2").style.display = "inline";
				c2 = false;
			}

			// Validate numbers
			var digitRegex = /[0-9]/g;
			if (myInput.value.match(digitRegex)) {
				document.getElementById("valid3").style.display = "inline";
				document.getElementById("invalid3").style.display = "none";
			} else {
				document.getElementById("valid3").style.display = "none";
				document.getElementById("invalid3").style.display = "inline";
				c3 = false;
			}

			// Validate Special Characters
			var spChRegex = /[!@#$%^&*()\-_=+{};:,<.>]/g;
			if (myInput.value.match(spChRegex)) {
				document.getElementById("valid4").style.display = "inline";
				document.getElementById("invalid4").style.display = "none";
			} else {
				document.getElementById("valid4").style.display = "none";
				document.getElementById("invalid4").style.display = "inline";
				c4 = false;
			}

			// Validate Password Length
			if (myInput.value.length >= 8 && myInput.value.length <= 15) {
				document.getElementById("valid5").style.display = "inline";
				document.getElementById("invalid5").style.display = "none";
			} else {
				document.getElementById("valid5").style.display = "none";
				document.getElementById("invalid5").style.display = "inline";
				c5 = false;
			}
		}

	</script>


	<script>
		// New Password and Confirm Password Matching
		var newpwd = document.getElementById('newpwd').value
		var cfmpwd = document.getElementById('cfmpwd').value

		function passwordMatch() {
			if (newpwd != cfmpwd) {
				document.getElementById("match").style.display = "inline-block";
			} else {
				document.getElementById("match").style.display = "none";
			}
		}
	</script>
</body>

</html>